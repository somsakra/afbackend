generator client {
    provider = "prisma-client"
    output   = "../generated/prisma"
}

datasource db {
    provider = "postgresql"
}

enum ActivityStatus {
    PENDING
    ONGOING
    COMPLETED
}

model User {
    id             String         @id @default(uuid())
    email          String         @unique
    name           String
    password       String
    userActivities userActivity[]
    activities     Activity[]
}

model userActivity {
    id         String   @id @default(uuid())
    userId     String
    activityId String
    User       User     @relation(fields: [userId], references: [id])
    Activity   Activity @relation(fields: [activityId], references: [id])
}

model Activity {
    id             String         @id @default(uuid())
    categoryId     String
    title          String
    description    String
    location       String
    date           DateTime
    requiredPeople Int
    joinedPeople   Int            @default(0)
    image          String?
    creatorId      String
    status         ActivityStatus
    creator        User           @relation(fields: [creatorId], references: [id])
    Category       Category       @relation(fields: [categoryId], references: [id])
    userActivities userActivity[]
}

model Category {
    id        String     @id
    name      String     @unique
    activitys Activity[]
}
